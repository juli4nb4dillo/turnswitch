<htm>

    <head>
        <style type="text/css">
            body {
                font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            }

            main {
                display: grid;
                place-items: center;

            }

            p {
                max-width: 40em;
            }

            ul {
                max-width: 36em;
            }

            div.examples {
                width: 40em;
                border: 1px solid black;
                display: grid;
                grid-template-columns: 1fr 1fr;
            }
            div.examples h4 {
                margin: 1em;
            }
            div.examples code {
                border: 1px solid green;
                margin: 1em;
                white-space: pre-line;
            }
            
        </style>
    </head>

    <body>
        <main>
            <h1>Turnswitch</h1>
            <p>
                The starship Century Hawk is in the middle of a loosing battle with a squad of space pirates, possibly
                after
                realizing their business with Captain Hanna Lonely
                was actually, sort of a scam. There is no escape but to jump to hyperspace. Unfortunately, the Century
                Hawk
                has
                been at the receiving end of heavy fire, and
                though Captain Lonely is a skilled pilot, the space pirates managed to hit home before she could shield
                up.
            </p>

            <ul>
                <li>
                    <i>"It must be the hyperdrive regulator <b>Turnswitch</b>, it's not responding!" - yells the
                        second in command</i>
                </li>
                <li>
                    <i>"You, newbie, go to the hyperdrive and fix it up!" - Captain Lonely orders.</i>
                </li>
            </ul>
            <p>
                As the newbie - and the only crew member of the Century Hawk with any programming skills - your task is
                to fix the <b>Turnswitch</b>, so the hyperdrive is back online.
            </p>
            <p>
                The regulator <b>Turnswitch</b> is an <code>N &times; N</code> matrix of switches, each switch can be
                either in
                horizontal
                or vertical position.
            </p>
            <p>
                You discover that if you turn any switch -from horizontal to vertical or viceversa-, all the directly
                adjacent
                swiches (up, down, left, right) will also turn. If a switch
                is on an edge of the matrix, or in a corner, the positions outside the matrix are ignored.
            </p>
            <p>
                For instance let's consider the following <code>3 &times; 3</code> <b>Turnswitch</b>:
            </p>

            <div>
                <img src="tswitch1.png" alt="img1" width="160">
            </div>

            <p>
                If you turn the switch at the <b>very center</b>, the <b>Turnswitch</b> will become:
            </p>
            <div>
                <img src="tswitch2.png" alt="img2" width="160">
            </div>
            <p>
                Now, if you turn the switch of the <b>bottom left corner</b>, the <b>Turnswitch</b> will become:
            </p>
            <div>
                <img src="tswitch3.png" alt="img3" width="160">
            </div>
            <p>
                The Century Hawk can jump to hyperdrive if the switches in the <b>Turnswitch</b> are either all
                horizontal, or all vertical -it is a ship build under a very
                liberal set of standards. Your task is to find the <b>least amount of switches</b> to turn in order to
                make the Turnswitch ready for the jump.
            </p>
            <p>
                The fate of the Century Hawk's crew is in your hands.
            </p>

            <p>
                The input consist of several test cases. Each test case starts with an integer <code>N</code>
                <code>1 &leq; N &leq; 10</code>,
                the size of the Turnswitch.
                The following <code>N</code> lines contain the Turnswitch matrix.
                Each line contains <code>N</code> characters, either "|" (the vertical pipe) or "-" (the minus sign),
                representing
                the state of the switches.
                There is a valid solution for each test case.
                The last line of input will be a <code>0</code> (zero) and should not be processed.
            </p>
            <p>
                For each test case, print a single line with the minimum number of switches that need to be turned in
                order to make the Turnswitch ready for the jump, e.g. all the
                switches become either horizontal or vertical.
            </p>
            <div class="examples">
                <h4>Example Input</h4>
                <h4>Example Output</h4>
                
                <code>
                    3
                    -||
                    ---
                    |-|
                    3
                    ||-
                    |-|
                    -||
                    4
                    -|-|
                    ||-|
                    ||-|
                    ||--
                    4
                    |||-
                    |---
                    -|--
                    -|-|
                    0
                </code>
                <code>
                    3
                    2
                    3
                    3
                </code>
            </div>
            <p>
                <a href="./turnswitch.html">Try it here.</a>
            </p>
        </main>
    </body>

    </html>